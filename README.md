# XMUM Dorm å¦é©¬å°ç­‘

æ ¡å›­ç¤¾äº¤å¹³å° - 1.0.0 ç‰ˆæœ¬

## ğŸ“‹ åŠŸèƒ½

- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•ï¼ˆå­¦å·+é‚®ç®±ï¼‰
- âœ… ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼ˆæ˜µç§°ã€é‚®ç®±ã€å¤´åƒï¼‰
- âœ… å‘å¸ƒåŠ¨æ€ï¼ˆæ–‡å­—+å›¾ç‰‡ï¼‰
- âœ… ç‚¹èµåŠ¨æ€
- âœ… è¯„è®ºåŠ¨æ€
- âœ… æŸ¥çœ‹è‡ªå·±çš„æ‰€æœ‰åŠ¨æ€
- âœ… åˆ é™¤è‡ªå·±çš„åŠ¨æ€

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **é…ç½®æ•°æ®åº“**
   - åˆ›å»º MySQL æ•°æ®åº“ `my_db`
   - æ‰§è¡Œå»ºè¡¨ SQLï¼ˆè§ `DEPLOY.md`ï¼‰

3. **é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆå¯é€‰ï¼‰
   - åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå‚è€ƒ `.env.example`ï¼‰
   - æˆ–ç›´æ¥ä½¿ç”¨ä»£ç ä¸­çš„é»˜è®¤å€¼

4. **å¯åŠ¨åç«¯**
   ```bash
   npm start
   ```
   åç«¯è¿è¡Œåœ¨ `http://127.0.0.1:4040`

5. **æ‰“å¼€å‰ç«¯**
   - ç”¨æµè§ˆå™¨æ‰“å¼€ `html/main page.html`
   - æˆ–ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆå¦‚ VS Code Live Serverï¼‰

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Dorm/
â”œâ”€â”€ app.js                 # Express ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json          # ä¾èµ–é…ç½®
â”œâ”€â”€ db/                   # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ router/               # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ user.js          # ç”¨æˆ·ç›¸å…³è·¯ç”±
â”‚   â”œâ”€â”€ userinfo.js      # ç”¨æˆ·ä¿¡æ¯è·¯ç”±
â”‚   â”œâ”€â”€ post.js          # åŠ¨æ€ç›¸å…³è·¯ç”±
â”‚   â””â”€â”€ upload.js        # æ–‡ä»¶ä¸Šä¼ è·¯ç”±
â”œâ”€â”€ router_handler/      # è·¯ç”±å¤„ç†å‡½æ•°
â”‚   â”œâ”€â”€ user_handler.js
â”‚   â”œâ”€â”€ userinfo_handler.js
â”‚   â””â”€â”€ post_handler.js
â”œâ”€â”€ schemas/             # æ•°æ®éªŒè¯è§„åˆ™
â”‚   â”œâ”€â”€ config.js        # JWT é…ç½®
â”‚   â”œâ”€â”€ schemas_user.js
â”‚   â””â”€â”€ schemas_post.js
â”œâ”€â”€ html/                # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ main page.html   # ä¸»é¡µ
â”‚   â”œâ”€â”€ log in.html      # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ register.html    # æ³¨å†Œé¡µ
â”‚   â”œâ”€â”€ myprofile.html   # ä¸ªäººèµ„æ–™é¡µ
â”‚   â”œâ”€â”€ create_post.html # å‘å¸ƒåŠ¨æ€é¡µ
â”‚   â”œâ”€â”€ config.js        # å‰ç«¯ API é…ç½®
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯ç®¡ç†
â”‚   â””â”€â”€ main_page_script.js
â””â”€â”€ uploads/             # ä¸Šä¼ æ–‡ä»¶ç›®å½•
```

## ğŸŒ éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ [DEPLOY.md](./DEPLOY.md)

**æ¨èæ–¹æ¡ˆï¼š**
- å‰ç«¯ï¼šVercel
- åç«¯ï¼šRailway.app
- æ•°æ®åº“ï¼šRailway MySQL æˆ– PlanetScale
- åŸŸåï¼šNamecheap / Cloudflare

## ğŸ” ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `DB_HOST` | æ•°æ®åº“ä¸»æœº | `127.0.0.1` |
| `DB_USER` | æ•°æ®åº“ç”¨æˆ· | `root` |
| `DB_PASSWORD` | æ•°æ®åº“å¯†ç  | - |
| `DB_NAME` | æ•°æ®åº“å | `my_db` |
| `JWT_SECRET` | JWT å¯†é’¥ | - |
| `JWT_EXPIRES_IN` | Token æœ‰æ•ˆæœŸ | `10h` |
| `PORT` | æœåŠ¡å™¨ç«¯å£ | `4040` |

## ğŸ“ API æ¥å£

### ç”¨æˆ·ç›¸å…³
- `POST /api/reguser` - æ³¨å†Œ
- `POST /api/login` - ç™»å½•
- `GET /api/userinfo` - è·å–ç”¨æˆ·ä¿¡æ¯
- `POST /api/userinfo` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `POST /api/update/avatar` - æ›´æ–°å¤´åƒ

### åŠ¨æ€ç›¸å…³
- `GET /api/posts` - è·å–åŠ¨æ€åˆ—è¡¨
- `GET /api/posts/mine` - è·å–æˆ‘çš„åŠ¨æ€
- `POST /api/posts` - å‘å¸ƒåŠ¨æ€
- `DELETE /api/posts/:id` - åˆ é™¤åŠ¨æ€
- `POST /api/posts/:id/like` - ç‚¹èµ/å–æ¶ˆç‚¹èµ
- `POST /api/posts/:id/comment` - å‘è¡¨è¯„è®º
- `GET /api/posts/:id/comment` - è·å–è¯„è®ºåˆ—è¡¨

### æ–‡ä»¶ä¸Šä¼ 
- `POST /api/upload` - ä¸Šä¼ å›¾ç‰‡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express
- **æ•°æ®åº“**: MySQL
- **è®¤è¯**: JWT
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **å‰ç«¯**: åŸç”Ÿ HTML/CSS/JavaScript

## ğŸ“„ License

ISC

## ğŸ‘¤ ä½œè€…

yjq

---

**XMUM Dorm - ä¸º XMUMers æ‰“é€ çš„æ ¡å›­ç¤¾åŒº** ğŸ“

